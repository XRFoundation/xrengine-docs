<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">installation | xrengine</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://xrfoundation.github.io/xrengine-docs/docs/installation/installation"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="installation | xrengine"><meta data-react-helmet="true" name="description" content="Getting up and running requires just a few steps, but this can be tricky, depending on your platform and current environment. Please follow the directions for your environment."><meta data-react-helmet="true" property="og:description" content="Getting up and running requires just a few steps, but this can be tricky, depending on your platform and current environment. Please follow the directions for your environment."><link data-react-helmet="true" rel="icon" href="https://github.com/xrfoundation/xrengine/raw/dev/xrengine%20black.png"><link data-react-helmet="true" rel="canonical" href="https://xrfoundation.github.io/xrengine-docs/docs/installation/installation"><link data-react-helmet="true" rel="alternate" href="https://xrfoundation.github.io/xrengine-docs/docs/installation/installation" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://xrfoundation.github.io/xrengine-docs/docs/installation/installation" hreflang="x-default"><link rel="stylesheet" href="/xrengine-docs/assets/css/styles.aac0408a.css">
<link rel="preload" href="/xrengine-docs/assets/js/runtime~main.7834b30d.js" as="script">
<link rel="preload" href="/xrengine-docs/assets/js/main.c500962c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/xrengine-docs/"><div class="navbar__logo"><img src="https://github.com/XRFoundation/XREngine/raw/dev/xrengine%20black.png" alt="Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="https://github.com/XRFoundation/XREngine/raw/dev/xrengine%20black.png" alt="Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">XREngine</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/xrengine-docs/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><main class="docMainContainer_TCnq docMainContainerEnhanced_WDCb"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>installation</h1></header><p>Getting up and running requires just a few steps, but this can be tricky, depending on your platform and current environment. Please follow the directions for your environment.</p><h1>All environments</h1><h3 class="anchor anchorWithStickyNavbar_mojV" id="first-clone-the-repository">First, clone the repository<a class="hash-link" href="#first-clone-the-repository" title="Direct link to heading">â€‹</a></h3><p><code>git clone https://github.com/XRFoundation/XREngine --depth 1</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ensure-you-are-on-node-16-or-above">Ensure you are on Node 16 or above<a class="hash-link" href="#ensure-you-are-on-node-16-or-above" title="Direct link to heading">â€‹</a></h3><p>You <strong>must</strong> have Node 16 or above installed.</p><p>A version manager can be helpful for this:</p><ul><li>NodeJS only: <a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener noreferrer">NVM</a></li><li>Polyglot: <a href="https://github.com/asdf-vm/asdf" target="_blank" rel="noopener noreferrer">ASDF</a></li></ul><p>Before running the engine, please check <code>node --version</code>
If you are using a node version below 16, please update or nothing will work. You will know you are having issues if you try to install at root and are getting dependency errors.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="docker-is-your-friend">Docker is your friend<a class="hash-link" href="#docker-is-your-friend" title="Direct link to heading">â€‹</a></h3><p>You don&#x27;t need to use Docker, but it will make your life much easier.
You can get it <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">here</a>.
If you don&#x27;t wish to use Docker, you will need to setup mariadb and redis on your machine. You can find credentials in <code>xrengine/scripts/docker-compose.yml</code></p><h1>Docker</h1><p>You can quickstart locally using docker, if you don&#x27;t have node installed or just want to test the latest.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="get-local-ip-address">Get local IP address<a class="hash-link" href="#get-local-ip-address" title="Direct link to heading">â€‹</a></h2><p>Use a tool like ifconfig to get your local IP address.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="start-local-databases">Start local databases<a class="hash-link" href="#start-local-databases" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> scripts</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker-compose</span><span class="token plain"> up</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>When the logging stops, that indicates that the databases have been created and are running.</p><p>Ctrl+c out of that, then from scripts run ./start-all-docker.sh (This must be run every time
you start your machine anew)</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="build-the-image">Build the image<a class="hash-link" href="#build-the-image" title="Direct link to heading">â€‹</a></h2><p>Create an empty folder at the root called <code>project-package-jsons</code> and the run the following command to build:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DOCKER_BUILDKIT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> build -t xrengine --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">MYSQL_USER</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">server --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">MYSQL_PASSWORD</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">password --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">MYSQL_HOST</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">127.0</span><span class="token plain">.0.1 --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">MYSQL_DATABASE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">xrengine --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">MYSQL_PORT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3304</span><span class="token plain"> --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">VITE_SERVER_HOST</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">localhost --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">VITE_SERVER_PORT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3030</span><span class="token plain"> --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">VITE_GAMESERVER_HOST</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">localhost --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">VITE_GAMESERVER_PORT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3031</span><span class="token plain"> --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">VITE_LOCAL_BUILD</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">true --build-arg </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">CACHE_DATE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$(</span><span class="token string variable function" style="color:rgb(130, 170, 255)">date</span><span class="token string variable" style="color:rgb(191, 199, 213)">)</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;host&quot;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="run-the-server-to-seed-the-database-wait-a-couple-minutes-then-delete-it">Run the server to seed the database, wait a couple minutes, then delete it<a class="hash-link" href="#run-the-server-to-seed-the-database-wait-a-couple-minutes-then-delete-it" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run -d --name server --env-file .env.local.default -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SERVER_MODE=api&quot;</span><span class="token plain"> -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;FORCE_DB_REFRESH=true&quot;</span><span class="token plain"> --network </span><span class="token function" style="color:rgb(130, 170, 255)">host</span><span class="token plain"> xrengine</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> logs server -f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-Wait </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> the line </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Server Ready&quot;</span><span class="token plain">, </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"> Ctrl+c out of the logs-</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container stop server</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> server</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="run-the-images">Run the images<a class="hash-link" href="#run-the-images" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run -d --name serve-local --env-file .env.local.default -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SERVER_MODE=serve-local&quot;</span><span class="token plain"> --network </span><span class="token function" style="color:rgb(130, 170, 255)">host</span><span class="token plain"> xrengine</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run -d --name server --env-file .env.local.default -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SERVER_MODE=api&quot;</span><span class="token plain"> -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GAMESERVER_HOST=&lt;local IP address&quot;</span><span class="token plain"> --network </span><span class="token function" style="color:rgb(130, 170, 255)">host</span><span class="token plain"> xrengine</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run -d --name client --env-file .env.local.default -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SERVER_MODE=client&quot;</span><span class="token plain"> --network </span><span class="token function" style="color:rgb(130, 170, 255)">host</span><span class="token plain"> xrengine</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run -d --name world --env-file .env.local.default -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SERVER_MODE=realtime&quot;</span><span class="token plain"> -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GAMESERVER_HOST=&lt;local IP address&gt;&quot;</span><span class="token plain"> --network </span><span class="token function" style="color:rgb(130, 170, 255)">host</span><span class="token plain"> xrengine</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run -d --name channel --env-file .env.local.default -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SERVER_MODE=realtime&quot;</span><span class="token plain"> -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GAMESERVER_HOST=&lt;local IP address&gt;&quot;</span><span class="token plain"> -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GAMESERVER_PORT=3032&quot;</span><span class="token plain"> --network </span><span class="token function" style="color:rgb(130, 170, 255)">host</span><span class="token plain"> xrengine</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="delete-containers-if-you-want-to-run-a-new-build-or-just-get-rid-of-them">Delete containers, if you want to run a new build, or just get rid of them<a class="hash-link" href="#delete-containers-if-you-want-to-run-a-new-build-or-just-get-rid-of-them" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container stop serve-local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> serve-local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container stop server</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> server</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container stop client</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> client</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container stop world</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> world</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container stop channel</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> container </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> channel</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="mediasoup-is-a-powerful-beast-you-must-tame">Mediasoup is a powerful beast you must tame<a class="hash-link" href="#mediasoup-is-a-powerful-beast-you-must-tame" title="Direct link to heading">â€‹</a></h3><p>The vast majority of people get stuck on the mediasoup installation because it requires C++ source code to be compiled on your machine, which requires node-gyp and python and other dependencies.</p><p><em>It is extremely important that you refer to these instructions before continuing</em>
<a href="https://mediasoup.org/documentation/v3/mediasoup/installation/" target="_blank" rel="noopener noreferrer">https://mediasoup.org/documentation/v3/mediasoup/installation/</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="installing-on-windows-with-wsl2">Installing on Windows with WSL2<a class="hash-link" href="#installing-on-windows-with-wsl2" title="Direct link to heading">â€‹</a></h3><p>Note: <strong>You must have WSL2 installed for these instructions to work</strong></p><p>First, open a wsl prompt. Then type these commands:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get update</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get upgrade</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get install build-essential</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm install mediasoup@3 --save</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo service docker start</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run dev-docker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run dev-reinit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Please make sure you&#x27;ve followed everything in these instructions:
<a href="https://mediasoup.org/documentation/v3/mediasoup/installation/" target="_blank" rel="noopener noreferrer">https://mediasoup.org/documentation/v3/mediasoup/installation/</a></p><h1>Installing on Native Windows</h1><ol><li><p>install python 3 and add python installation directory path to &#x27;path&#x27; env variable.</p></li><li><p>Install node js</p></li><li><p>install Visual studio community edition with build tools. follow next steps. If mediasoup will not installed properly then modify Visual studio setup to add c++ and Node.js support.</p></li><li><p>add path to MSbuild.exe (which is present into vs installation folder) into &#x27;path&#x27; variable
for example:<code> C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Current\Bin</code></p></li><li><p>install all dependencies using npm.</p></li><li><p>If error persists then check for typos in environment variables.</p></li><li><p>If you are on Windows, you can use docker-compose to start the scripts/docker-compose.yml file, or install mariadb and copy the login/pass and database name from docker-compose or .env.local -- you will need to create the database with the matching name, but you do not need to populate it</p></li></ol><p>./start-db.sh only needs to be run once. If the docker image has stopped, start it again with:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    docker container start xrengine_db</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ol start="8"><li>Check your WSL Config for any incorrect networking settings.
<a href="https://docs.microsoft.com/en-us/windows/wsl/wsl-config#network" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/en-us/windows/wsl/wsl-config#network</a></li></ol><h1>Installing on a Mac</h1><ol><li>Go to the root and run </li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">   npm install</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   npm run dev-docker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   npm run dev-reinit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Or if you are on a M1 based Mac</p><p>(Recommended)
1) Duplicate the Terminal app, and configure it to run in Rosetta
2) Run the above in Rosetta Terminal</p><p>(Not recommended) </p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">   yarn install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This is because on Apple chips the node-darwin sometimes doesn&#x27;t get installed properly and by using yarn it fixes the issue.</p><ol start="2"><li>Have docker started in the background and then in the terminal type </li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">   npm run dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This will open the mariaDB and SQL scripts on the docker and will start the servers </p><ol start="3"><li>To make sure your environment is set and running properly just go to https://localhost:3000/location/default and you should be able to walk around an empty 3D scene</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Note : Make sure you are on Node &gt;= 16 and have docker running. </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="troubleshooting-mac">Troubleshooting Mac<a class="hash-link" href="#troubleshooting-mac" title="Direct link to heading">â€‹</a></h3><ul><li>If you find issues on your terminal that says that access-denied for user &#x27;server@localhost&#x27; then you can use this command </li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">brew services stop mysql</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>If you find issue on your terminal that says &#x27;An unexpected error occurred: &quot;expected workspace package&#x27; while using yarn then you can use this command in your terminal </li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">   yarn policies set-version 1.18.0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>As yarn &gt; 1.18 sometimes doesn&#x27;t work properly with lerna. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="easy-setup">Easy setup<a class="hash-link" href="#easy-setup" title="Direct link to heading">â€‹</a></h2><p>If you are lucky, this will just work. However, you will may encounter some issues. Make sure you are running Node 16, and check your dependencies.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd path/to/xrengine</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run dev-docker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run dev-reinit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This will automatically setup (if necessary) and run redis/mariadb docker containers, and XRengine client/server/game-server instances.</p><p>In a browser, navigate to <a href="https://127.0.0.1:3000/location/default" target="_blank" rel="noopener noreferrer">https://127.0.0.1:3000/location/default</a></p><p>The database seeding process creates a test empty location called &#x27;test&#x27;. It can be navigated to by going to &#x27;<a href="https://127.0.0.1:3000/location/default&#x27;" target="_blank" rel="noopener noreferrer">https://127.0.0.1:3000/location/default&#x27;</a></p><p>As of this writing, the cert provided in the xrengine package for local use is not adequately signed. Browsers will throw up warnings about going to insecure pages. You should be able to tell the browser to ignore it, usually by clicking on some sort of &#x27;advanced options&#x27; button or link and then something along the lines of &#x27;go there anyway&#x27;.</p><p>Chrome sometimes does not show a clickable option on the warning. If so, just type <code>badidea</code> or <code>thisisunsafe</code> when on that page. You don&#x27;t enter that into the address bar or into a text box, Chrome is just passively listening for those commands.</p><h1>Advanced Setup</h1><p>If you want to setup XREngine docker instances, client, server, and/or game-server manually, follow these directions. The advanced setup is recommended for all users, in order to understand more about everything that going on.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="1--install-your-dependencies">1.  Install your dependencies<a class="hash-link" href="#1--install-your-dependencies" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd path/to/xrengine</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run dev-docker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run dev-reinit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You should not need to use sudo in any case.</p><p>Error with mediasoup?<a href="https://mediasoup.org/documentation/v3/mediasoup/installation/" target="_blank" rel="noopener noreferrer">https://mediasoup.org/documentation/v3/mediasoup/installation/</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="2-make-sure-you-have-a-mysql-database-installed-and-running----our-recommendation-is-mariadb">2. Make sure you have a mysql database installed and running -- our recommendation is Mariadb.<a class="hash-link" href="#2-make-sure-you-have-a-mysql-database-installed-and-running----our-recommendation-is-mariadb" title="Direct link to heading">â€‹</a></h3><p>We&#x27;ve provided a docker container for easy setup:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd scripts &amp;&amp; sudo bash start-db.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This creates a Docker container of mariadb named xrengine_db. You must have docker installed on your machine for this script to work.
If you do not have Docker installed and do not wish to install it, you&#x27;ll have to manually create a MariaDB server.</p><p>The default username is &#x27;server&#x27;, the default password is &#x27;password&#x27;, the default database name is &#x27;xrengine&#x27;, the default hostname is &#x27;127.0.0.1&#x27;, and the default port is &#x27;3306&#x27;.</p><p>   Seeing errors connecting to the local DB? <strong>Try shutting off your local firewall.</strong></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="3-open-a-new-tab-and-start-the-agones-sidecar-in-local-mode">3. Open a new tab and start the Agones sidecar in local mode<a class="hash-link" href="#3-open-a-new-tab-and-start-the-agones-sidecar-in-local-mode" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd scripts</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo bash start-agones.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>   You can also go to vendor/agones/ and run</p><p>   <code>./sdk-server.linux.amd64 --local</code></p><p>   If you are using a Windows machine, run</p><p>   <code>sdk-server.windows.amd64.exe --local</code></p><p>   and for mac, run</p><p>   <code>./sdk-server.darwin.amd64 --local</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="4-start-the-server-in-database-seed-mode">4. Start the server in database seed mode<a class="hash-link" href="#4-start-the-server-in-database-seed-mode" title="Direct link to heading">â€‹</a></h3><p>   Several tables in the database need to be seeded with default values.
Run <code>npm run dev-reinit</code> or if on windows <code>npm run dev-reinit-windows</code>
After several seconds, there should be no more logging.
Some of the final lines should read like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Server Ready</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Executing (default): SET FOREIGN_KEY_CHECKS = 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Server EXIT</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>   At this point, the database has been seeded.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="5-local-file-server-configuration">5. Local file server configuration<a class="hash-link" href="#5-local-file-server-configuration" title="Direct link to heading">â€‹</a></h3><p>   If the .env.local file you have has the line
<code>STORAGE_PROVIDER=local</code>
then the scene editor will save components, models, scenes, etc. locally
(as opposed to storing them on S3). You will need to start a local server
to serve these files, and make sure that .env.local has the line
<code>LOCAL_STORAGE_PROVIDER=&quot;localhost:8642&quot;</code>.
In a new tab, go to <code>packages/server</code> and run <code>npm run serve-local-files</code>.
This will start up <code>http-server</code> to serve files from <code>packages/server/upload</code>
on <code>localhost:8642</code>.
You may have to accept the invalid self-signed certificate for it in the browser;
see &#x27;Allow local file http-server connection with invalid certificate&#x27; below.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="6-open-twothree-separate-tabs-and-start-the-api-server-gameserver-and-client">6. Open two/three separate tabs and start the API server, gameserver and client<a class="hash-link" href="#6-open-twothree-separate-tabs-and-start-the-api-server-gameserver-and-client" title="Direct link to heading">â€‹</a></h3><p>   In /packages/server, run <code>npm run dev</code> which will launch the api server, game server and file server.
If you are not using gameservers, you can instead run <code>npm run dev-api-server</code> in the api server.
In the final tab, go to /packages/client and run <code>npm run dev</code>.
If you are on windows you need to use <code>npm run dev-windows</code> instead of <code>npm run dev</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="7-in-a-browser-navigate-to-https1270013000locationdefault">7. In a browser, navigate to <a href="https://127.0.0.1:3000/location/default" target="_blank" rel="noopener noreferrer">https://127.0.0.1:3000/location/default</a><a class="hash-link" href="#7-in-a-browser-navigate-to-https1270013000locationdefault" title="Direct link to heading">â€‹</a></h3><p>   The database seeding process creates a default empty location called &#x27;default&#x27;.
It can be navigated to by going to &#x27;<a href="https://127.0.0.1:3000/location/default&#x27;" target="_blank" rel="noopener noreferrer">https://127.0.0.1:3000/location/default&#x27;</a>.
As of this writing, the cert provided in the XREngine package for local use is not adequately signed. You can create signed certificates and replace the default ones, but most developers just ignore the warnings. Browsers will throw up warnings about going to insecure pages. You should be able to tell the browser to ignore it, usually by clicking on some sort of &#x27;advanced options&#x27; button or link and then something along the lines of &#x27;go there anyway&#x27;.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="admin-system">Admin System<a class="hash-link" href="#admin-system" title="Direct link to heading">â€‹</a></h3><p>You can administrate many features from the admin panel at https://localhost:3000/admin</p><p>How to make a user an admin:</p><p>Create a user at <code>https://localhost:3000/</code></p><p>To locate your User ID:
In Chrome Dev Tools console, write <code>copy(userId)</code>. This will copy your User ID (As shown in attached screenshot). Paste it in and run the following command in a &#x27;nix shell (e.g. Bash, ZSH):</p><p><code>npm run make-user-admin -- --id={COPIED_USER_ID}</code></p><p>Example:
<code>npm run make-user-admin -- --id=c06b0210-453e-11ec-afc3-c57a57eeb1ac</code></p><p><img src="https://user-images.githubusercontent.com/43248658/142813912-35f450e1-f012-4bdf-adfa-f0fa2816160f.png" alt="image"></p><ol start="2"><li>TODO: Improve with email/phone ID support</li></ol><p>Alternate Method: </p><ol><li>Look up in User table and change userRole to &#x27;admin&#x27; </li><li>Dev DB credentials can be found here: packages/ops/docker-compose-local.yml#L42</li><li>Suggested: beekeeperstudio.io</li></ol><p>Test user Admin privileges by going to <code>/admin</code></p><p><a href="/xrengine-docs/docs/installation/01.1-install-troubleshooting.md">Next =&gt;&gt;</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/XRFoundation/XREngine/packages/docs/docs/0_installation/01-installation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#first-clone-the-repository" class="table-of-contents__link toc-highlight">First, clone the repository</a></li><li><a href="#ensure-you-are-on-node-16-or-above" class="table-of-contents__link toc-highlight">Ensure you are on Node 16 or above</a></li><li><a href="#docker-is-your-friend" class="table-of-contents__link toc-highlight">Docker is your friend</a></li><li><a href="#get-local-ip-address" class="table-of-contents__link toc-highlight">Get local IP address</a></li><li><a href="#start-local-databases" class="table-of-contents__link toc-highlight">Start local databases</a></li><li><a href="#build-the-image" class="table-of-contents__link toc-highlight">Build the image</a></li><li><a href="#run-the-server-to-seed-the-database-wait-a-couple-minutes-then-delete-it" class="table-of-contents__link toc-highlight">Run the server to seed the database, wait a couple minutes, then delete it</a></li><li><a href="#run-the-images" class="table-of-contents__link toc-highlight">Run the images</a></li><li><a href="#delete-containers-if-you-want-to-run-a-new-build-or-just-get-rid-of-them" class="table-of-contents__link toc-highlight">Delete containers, if you want to run a new build, or just get rid of them</a><ul><li><a href="#mediasoup-is-a-powerful-beast-you-must-tame" class="table-of-contents__link toc-highlight">Mediasoup is a powerful beast you must tame</a></li><li><a href="#installing-on-windows-with-wsl2" class="table-of-contents__link toc-highlight">Installing on Windows with WSL2</a></li><li><a href="#troubleshooting-mac" class="table-of-contents__link toc-highlight">Troubleshooting Mac</a></li></ul></li><li><a href="#easy-setup" class="table-of-contents__link toc-highlight">Easy setup</a><ul><li><a href="#1--install-your-dependencies" class="table-of-contents__link toc-highlight">1.  Install your dependencies</a></li><li><a href="#2-make-sure-you-have-a-mysql-database-installed-and-running----our-recommendation-is-mariadb" class="table-of-contents__link toc-highlight">2. Make sure you have a mysql database installed and running -- our recommendation is Mariadb.</a></li><li><a href="#3-open-a-new-tab-and-start-the-agones-sidecar-in-local-mode" class="table-of-contents__link toc-highlight">3. Open a new tab and start the Agones sidecar in local mode</a></li><li><a href="#4-start-the-server-in-database-seed-mode" class="table-of-contents__link toc-highlight">4. Start the server in database seed mode</a></li><li><a href="#5-local-file-server-configuration" class="table-of-contents__link toc-highlight">5. Local file server configuration</a></li><li><a href="#6-open-twothree-separate-tabs-and-start-the-api-server-gameserver-and-client" class="table-of-contents__link toc-highlight">6. Open two/three separate tabs and start the API server, gameserver and client</a></li><li><a href="#7-in-a-browser-navigate-to-https1270013000locationdefault" class="table-of-contents__link toc-highlight">7. In a browser, navigate to https://127.0.0.1:3000/location/default</a></li><li><a href="#admin-system" class="table-of-contents__link toc-highlight">Admin System</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/xrf" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/XRFoundation/XREngine" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 XRFoundation.</div></div></div></footer></div>
<script src="/xrengine-docs/assets/js/runtime~main.7834b30d.js"></script>
<script src="/xrengine-docs/assets/js/main.c500962c.js"></script>
</body>
</html>