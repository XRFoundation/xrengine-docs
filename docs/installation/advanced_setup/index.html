<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Advanced Setup | xrengine</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://xrfoundation.github.io/xrengine-docs/docs/installation/advanced_setup"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Advanced Setup | xrengine"><meta data-react-helmet="true" name="description" content="If you want to setup XREngine docker instances, client, server, and/or"><meta data-react-helmet="true" property="og:description" content="If you want to setup XREngine docker instances, client, server, and/or"><link data-react-helmet="true" rel="icon" href="https://github.com/xrfoundation/xrengine/raw/dev/xrengine%20black.png"><link data-react-helmet="true" rel="canonical" href="https://xrfoundation.github.io/xrengine-docs/docs/installation/advanced_setup"><link data-react-helmet="true" rel="alternate" href="https://xrfoundation.github.io/xrengine-docs/docs/installation/advanced_setup" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://xrfoundation.github.io/xrengine-docs/docs/installation/advanced_setup" hreflang="x-default"><link rel="stylesheet" href="/xrengine-docs/assets/css/styles.aac0408a.css">
<link rel="preload" href="/xrengine-docs/assets/js/runtime~main.a6d5d463.js" as="script">
<link rel="preload" href="/xrengine-docs/assets/js/main.7370ca7d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/xrengine-docs/"><div class="navbar__logo"><img src="https://github.com/XRFoundation/XREngine/raw/dev/xrengine%20black.png" alt="Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="https://github.com/XRFoundation/XREngine/raw/dev/xrengine%20black.png" alt="Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">XREngine</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/xrengine-docs/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><main class="docMainContainer_TCnq docMainContainerEnhanced_WDCb"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Advanced Setup</h1><p>If you want to setup XREngine docker instances, client, server, and/or
game-server manually, follow these directions. The advanced setup is recommended
for all users, in order to understand more about everything that going on.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="1--install-your-dependencies">1.  Install your dependencies<a class="hash-link" href="#1--install-your-dependencies" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd path/to/xrengine</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run dev-docker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run dev-reinit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You should not need to use sudo in any case.</p><p>Error with mediasoup? <a href="https://mediasoup.org/documentation/v3/mediasoup/installation/" target="_blank" rel="noopener noreferrer">https://mediasoup.org/documentation/v3/mediasoup/installation/</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="2-make-sure-you-have-a-mysql-database-installed-and-running----our-recommendation-is-mariadb">2. Make sure you have a mysql database installed and running -- our recommendation is Mariadb.<a class="hash-link" href="#2-make-sure-you-have-a-mysql-database-installed-and-running----our-recommendation-is-mariadb" title="Direct link to heading">â€‹</a></h3><p>We&#x27;ve provided a docker container for easy setup:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd scripts &amp;&amp; sudo bash start-db.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This creates a Docker container of mariadb named xrengine_db. You must have
docker installed on your machine for this script to work.
If you do not have Docker installed and do not wish to install it, you&#x27;ll have
to manually create a MariaDB server.</p><p>The default username is &#x27;server&#x27;, the default password is &#x27;password&#x27;, the
default database name is &#x27;xrengine&#x27;, the default hostname is &#x27;127.0.0.1&#x27;, and
the default port is <code>3306</code>.</p><p>Seeing errors connecting to the local DB? <strong>Try shutting off your local firewall.</strong></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="3-open-a-new-tab-and-start-the-agones-sidecar-in-local-mode">3. Open a new tab and start the Agones sidecar in local mode<a class="hash-link" href="#3-open-a-new-tab-and-start-the-agones-sidecar-in-local-mode" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd scripts</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo bash start-agones.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You can also go to vendor/agones/ and run</p><p><code>./sdk-server.linux.amd64 --local</code></p><p>If you are using a Windows machine, run</p><p><code>sdk-server.windows.amd64.exe --local</code></p><p>and for mac, run</p><p><code>./sdk-server.darwin.amd64 --local</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="4-start-the-server-in-database-seed-mode">4. Start the server in database seed mode<a class="hash-link" href="#4-start-the-server-in-database-seed-mode" title="Direct link to heading">â€‹</a></h3><p>Several tables in the database need to be seeded with default values.
Run <code>npm run dev-reinit</code> or if on windows <code>npm run dev-reinit-windows</code>
After several seconds, there should be no more logging.
Some of the final lines should read like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Server Ready</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Executing (default): SET FOREIGN_KEY_CHECKS = 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Server EXIT</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>At this point, the database has been seeded.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="5-local-file-server-configuration">5. Local file server configuration<a class="hash-link" href="#5-local-file-server-configuration" title="Direct link to heading">â€‹</a></h3><p>If the .env.local file you have has the line
<code>STORAGE_PROVIDER=local</code>
then the scene editor will save components, models, scenes, etc. locally
(as opposed to storing them on S3). You will need to start a local server
to serve these files, and make sure that .env.local has the line
<code>LOCAL_STORAGE_PROVIDER=&quot;localhost:8642&quot;</code>.
In a new tab, go to <code>packages/server</code> and run <code>npm run serve-local-files</code>.
This will start up <code>http-server</code> to serve files from <code>packages/server/upload</code>
on <code>localhost:8642</code>.
You may have to accept the invalid self-signed certificate for it in the browser;
see &#x27;Allow local file http-server connection with invalid certificate&#x27; below.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="6-open-twothree-separate-tabs-and-start-the-api-server-gameserver-and-client">6. Open two/three separate tabs and start the API server, gameserver and client<a class="hash-link" href="#6-open-twothree-separate-tabs-and-start-the-api-server-gameserver-and-client" title="Direct link to heading">â€‹</a></h3><p>In /packages/server, run <code>npm run dev</code> which will launch the api server, game server and file server.
If you are not using gameservers, you can instead run <code>npm run dev-api-server</code> in the api server.
In the final tab, go to /packages/client and run <code>npm run dev</code>.
If you are on windows you need to use <code>npm run dev-windows</code> instead of <code>npm run dev</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="7-in-a-browser-navigate-to-https1270013000locationdefault">7. In a browser, navigate to <a href="https://127.0.0.1:3000/location/default" target="_blank" rel="noopener noreferrer">https://127.0.0.1:3000/location/default</a><a class="hash-link" href="#7-in-a-browser-navigate-to-https1270013000locationdefault" title="Direct link to heading">â€‹</a></h3><p>The database seeding process creates a default empty location called &#x27;default&#x27;.
It can be navigated to by going to &#x27;<a href="https://127.0.0.1:3000/location/default&#x27;" target="_blank" rel="noopener noreferrer">https://127.0.0.1:3000/location/default&#x27;</a>.
As of this writing, the cert provided in the XREngine package for local use is
not adequately signed. You can create signed certificates and replace the
default ones, but most developers just ignore the warnings. Browsers will throw
up warnings about going to insecure pages. You should be able to tell the browser
to ignore it, usually by clicking on some sort of &#x27;advanced options&#x27; button or
link and then something along the lines of &#x27;go there anyway&#x27;.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/XRFoundation/XREngine/packages/docs/docs/0_installation/advanced_setup.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1--install-your-dependencies" class="table-of-contents__link toc-highlight">1.  Install your dependencies</a></li><li><a href="#2-make-sure-you-have-a-mysql-database-installed-and-running----our-recommendation-is-mariadb" class="table-of-contents__link toc-highlight">2. Make sure you have a mysql database installed and running -- our recommendation is Mariadb.</a></li><li><a href="#3-open-a-new-tab-and-start-the-agones-sidecar-in-local-mode" class="table-of-contents__link toc-highlight">3. Open a new tab and start the Agones sidecar in local mode</a></li><li><a href="#4-start-the-server-in-database-seed-mode" class="table-of-contents__link toc-highlight">4. Start the server in database seed mode</a></li><li><a href="#5-local-file-server-configuration" class="table-of-contents__link toc-highlight">5. Local file server configuration</a></li><li><a href="#6-open-twothree-separate-tabs-and-start-the-api-server-gameserver-and-client" class="table-of-contents__link toc-highlight">6. Open two/three separate tabs and start the API server, gameserver and client</a></li><li><a href="#7-in-a-browser-navigate-to-https1270013000locationdefault" class="table-of-contents__link toc-highlight">7. In a browser, navigate to https://127.0.0.1:3000/location/default</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/xrf" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/XRFoundation/XREngine" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 XRFoundation.</div></div></div></footer></div>
<script src="/xrengine-docs/assets/js/runtime~main.a6d5d463.js"></script>
<script src="/xrengine-docs/assets/js/main.7370ca7d.js"></script>
</body>
</html>