<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Writing Good Tests | xrengine</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://xrfoundation.github.io/xrengine-docs/docs/testing/test_driven_development"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Writing Good Tests | xrengine"><meta data-react-helmet="true" name="description" content="Now that our code has been thoughtfully organized into stateless functions we can easily put them to the test with three simple steps:"><meta data-react-helmet="true" property="og:description" content="Now that our code has been thoughtfully organized into stateless functions we can easily put them to the test with three simple steps:"><link data-react-helmet="true" rel="icon" href="https://github.com/xrfoundation/xrengine/raw/dev/xrengine%20black.png"><link data-react-helmet="true" rel="canonical" href="https://xrfoundation.github.io/xrengine-docs/docs/testing/test_driven_development"><link data-react-helmet="true" rel="alternate" href="https://xrfoundation.github.io/xrengine-docs/docs/testing/test_driven_development" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://xrfoundation.github.io/xrengine-docs/docs/testing/test_driven_development" hreflang="x-default"><link rel="stylesheet" href="/xrengine-docs/assets/css/styles.0612b868.css">
<link rel="preload" href="/xrengine-docs/assets/js/runtime~main.261b35a1.js" as="script">
<link rel="preload" href="/xrengine-docs/assets/js/main.07805421.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/xrengine-docs/"><div class="navbar__logo"><img src="https://github.com/XRFoundation/XREngine/raw/dev/xrengine%20black.png" alt="Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="https://github.com/XRFoundation/XREngine/raw/dev/xrengine%20black.png" alt="Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">XREngine</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/xrengine-docs/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><main class="docMainContainer_TCnq docMainContainerEnhanced_WDCb"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Writing Good Tests</h1><p>Now that our code has been thoughtfully organized into stateless functions we can easily put them to the test with three simple steps:</p><ol><li>Mock</li><li>Run</li><li>Assert</li></ol><p>First, mock up data for the input parameters.</p><p>Then, run the function with the input data to produce an output.</p><p>Finally, assert that the output is correct.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="test-driven-development-source">Test-Driven Development (<a href="https://en.wikipedia.org/wiki/Test-driven_development" target="_blank" rel="noopener noreferrer">source</a>)<a class="hash-link" href="#test-driven-development-source" title="Direct link to heading">â€‹</a></h2><p>Test-driven development (TDD) is a software development process relying on software requirements being converted to test cases before software is fully developed, and tracking all software development by repeatedly testing the software against all test cases. This is as opposed to software being developed first and test cases created later. </p><p>This methodology is extremely useful and productive, because it means that your code will <em>always</em> have test coverage. Not only that, but you can save time by ensuring that the feature is working simply by virtue of the tests passing, instead of having to run the entire software to see whether or not the feature or module in question is functioning correctly.</p><p>The following sequence is based on the book Test-Driven Development by Example:</p><ol><li><p>Add a test</p><p>The adding of a new feature begins by writing a test that passes if and <em>only</em> if the feature&#x27;s specifications are met. The developer can discover these specifications by asking about use cases and user stories. A key benefit of test-driven development is that it makes the developer focus on requirements before writing code. This is in contrast with the usual practice, where unit tests are only written after code.</p></li><li><p>Run all tests. The new test should fail for expected reasons</p><p>This shows that new code is actually needed for the desired feature. It validates that the test harness is working correctly. It rules out the possibility that the new test is flawed and will always pass.</p></li><li><p>Write the simplest code that passes the new test</p><p>Inelegant or hard code is acceptable, as long as it passes the test. The code will be honed anyway in Step 5. No code should be added beyond the tested functionality.</p></li><li><p>All tests should now pass</p><p>If any fail, the new code must be revised until they pass. This ensures the new code meets the test requirements and does not break existing features.</p></li><li><p>Refactor as needed, using tests after each refactor to ensure that functionality is preserved</p><p>Code is refactored for readability and maintainability. In particular, hard-coded test data should be removed. Running the test suite after each refactor helps ensure that no existing functionality is broken.</p><p>Examples of refactoring:</p><ul><li>moving code to where it most logically belongs</li><li>removing duplicate code</li><li>making names self-documenting</li><li>splitting methods into smaller pieces</li><li>re-arranging inheritance hierarchies</li></ul></li></ol><p>The cycle above is repeated for each new piece of functionality. Tests should be small and incremental, and commits made often. That way, if new code fails some tests, the programmer can simply undo or revert rather than debug excessively. When using external libraries, it is important not to write tests that are so small as to effectively test merely the library itself, unless there is some reason to believe that the library is buggy or not feature-rich enough to serve all the needs of the software under development.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="antipatterns">Antipatterns<a class="hash-link" href="#antipatterns" title="Direct link to heading">â€‹</a></h3><p>Practices to avoid, or &quot;anti-patterns&quot;</p><ul><li>Having test cases depend on system state manipulated from previously executed test cases (i.e., you should always start a unit test from a known and pre-configured state).</li><li>Dependencies between test cases. A test suite where test cases are dependent upon each other is brittle and complex. Execution order should not be presumed. Basic refactoring of the initial test cases or structure of the UUT causes a spiral of increasingly pervasive impacts in associated tests.</li><li>Interdependent tests. Interdependent tests can cause cascading false negatives. A failure in an early test case breaks a later test case even if no actual fault exists in the UUT, increasing defect analysis and debug efforts.</li><li>Testing precise execution behavior timing or performance.</li><li>Building &quot;all-knowing oracles&quot;. An oracle that inspects more than necessary is more expensive and brittle over time. This very common error is dangerous because it causes a subtle but pervasive time sink across the complex project.</li><li>Testing implementation details.</li><li>Slow running tests.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/XRFoundation/XREngine/packages/docs/docs/3_testing/2_test_driven_development.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#test-driven-development-source" class="table-of-contents__link toc-highlight">Test-Driven Development (source)</a><ul><li><a href="#antipatterns" class="table-of-contents__link toc-highlight">Antipatterns</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/xrf" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/XRFoundation/XREngine" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 XRFoundation.</div></div></div></footer></div>
<script src="/xrengine-docs/assets/js/runtime~main.261b35a1.js"></script>
<script src="/xrengine-docs/assets/js/main.07805421.js"></script>
</body>
</html>